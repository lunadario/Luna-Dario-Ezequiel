{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import Detail from'../Routes/Detail';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const initialState={isFavorite:false};const Card=_ref=>{let{name,username,id}=_ref;const[isFavorite,setIsFavorite]=useState(false);useEffect(()=>{const fetchData=async()=>{try{const existingFavs=await localStorage.getItem('favorites');if(existingFavs){const favorites=JSON.parse(existingFavs);const isAlreadyFavorite=favorites.some(favorite=>favorite.id===id);setIsFavorite(isAlreadyFavorite);}}catch(error){console.log(error);}};fetchData();},[id]);const handleFavoriteToggle=async()=>{const cardData={id,name,username};try{const existingFavs=await localStorage.getItem('favorites');let favorites=existingFavs?JSON.parse(existingFavs):[];const isAlreadyFavorite=favorites.some(favorite=>favorite.id===cardData.id);if(!isAlreadyFavorite){favorites.push(cardData);await localStorage.setItem('favorites',JSON.stringify(favorites));setIsFavorite(true);}else{const updatedFavorites=favorites.filter(favorite=>favorite.id!==cardData.id);favorites=updatedFavorites;await localStorage.setItem('favorites',JSON.stringify(favorites));setIsFavorite(false);}}catch(error){console.log(error);}};return/*#__PURE__*/_jsx(\"div\",{className:\"carde\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(Link,{to:`/dentist/${id}`,children:[/*#__PURE__*/_jsx(\"img\",{className:\"dentist-image\",src:\"/img/doc.jpg\",alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:name}),/*#__PURE__*/_jsx(\"p\",{children:username})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFavoriteToggle,children:isFavorite?'⭐️':'☆'}),/*#__PURE__*/_jsx(Link,{to:\"/detail\",children:\"detalles\"})]})});};export default Card;","map":{"version":3,"names":["React","useEffect","useState","Link","Detail","jsx","_jsx","jsxs","_jsxs","initialState","isFavorite","Card","_ref","name","username","id","setIsFavorite","fetchData","existingFavs","localStorage","getItem","favorites","JSON","parse","isAlreadyFavorite","some","favorite","error","console","log","handleFavoriteToggle","cardData","push","setItem","stringify","updatedFavorites","filter","className","children","to","src","alt","onClick"],"sources":["D:/Documents/DARÍO DIGITAL HOUSE/6TO BIMESTRE/Luna-Dario-Ezequiel/src/Components/Card.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Detail from '../Routes/Detail';\r\n\r\n\r\nconst initialState = {\r\n  isFavorite: false,\r\n};\r\nconst Card = ({ name, username, id }) => {\r\n  const [isFavorite, setIsFavorite] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const existingFavs = await localStorage.getItem('favorites');\r\n        if (existingFavs) {\r\n          const favorites = JSON.parse(existingFavs);\r\n          const isAlreadyFavorite = favorites.some((favorite) => favorite.id === id);\r\n          setIsFavorite(isAlreadyFavorite);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  const handleFavoriteToggle = async () => {\r\n    const cardData = {\r\n      id,\r\n      name,\r\n      username,\r\n    };\r\n\r\n    try {\r\n      const existingFavs = await localStorage.getItem('favorites');\r\n      let favorites = existingFavs ? JSON.parse(existingFavs) : [];\r\n\r\n      const isAlreadyFavorite = favorites.some((favorite) => favorite.id === cardData.id);\r\n\r\n      if (!isAlreadyFavorite) {\r\n        favorites.push(cardData);\r\n        await localStorage.setItem('favorites', JSON.stringify(favorites));\r\n        setIsFavorite(true);\r\n      } else {\r\n        const updatedFavorites = favorites.filter((favorite) => favorite.id !== cardData.id);\r\n        favorites = updatedFavorites;\r\n        await localStorage.setItem('favorites', JSON.stringify(favorites));\r\n        setIsFavorite(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='carde'>   \r\n      <div className='card'>\r\n        <Link to={`/dentist/${id}`}>\r\n        <img className=\"dentist-image\" src=\"/img/doc.jpg\" alt=\"\" />\r\n          <h3>{name}</h3>\r\n          <p>{username}</p>\r\n        \r\n        </Link>\r\n        <button onClick={handleFavoriteToggle}>\r\n          {isFavorite ? '⭐️' : '☆'}\r\n        </button>\r\n        <Link to=\"/detail\">detalles</Link>\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}