{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/DAR\\xCDO DIGITAL HOUSE/6TO BIMESTRE/Luna-Dario-Ezequiel/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Documents/DAR\\xCDO DIGITAL HOUSE/6TO BIMESTRE/Luna-Dario-Ezequiel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Documents/DAR\\xCDO DIGITAL HOUSE/6TO BIMESTRE/Luna-Dario-Ezequiel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import Detail from'../Routes/Detail';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={isFavorite:false};var Card=function Card(_ref){var name=_ref.name,username=_ref.username,id=_ref.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFavorite=_useState2[0],setIsFavorite=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var existingFavs,favorites,isAlreadyFavorite;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return localStorage.getItem('favorites');case 3:existingFavs=_context.sent;if(existingFavs){favorites=JSON.parse(existingFavs);isAlreadyFavorite=favorites.some(function(favorite){return favorite.id===id;});setIsFavorite(isAlreadyFavorite);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();fetchData();},[id]);var handleFavoriteToggle=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var cardData,existingFavs,favorites,isAlreadyFavorite,updatedFavorites;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:cardData={id:id,name:name,username:username};_context2.prev=1;_context2.next=4;return localStorage.getItem('favorites');case 4:existingFavs=_context2.sent;favorites=existingFavs?JSON.parse(existingFavs):[];isAlreadyFavorite=favorites.some(function(favorite){return favorite.id===cardData.id;});if(isAlreadyFavorite){_context2.next=14;break;}favorites.push(cardData);_context2.next=11;return localStorage.setItem('favorites',JSON.stringify(favorites));case 11:setIsFavorite(true);_context2.next=19;break;case 14:updatedFavorites=favorites.filter(function(favorite){return favorite.id!==cardData.id;});favorites=updatedFavorites;_context2.next=18;return localStorage.setItem('favorites',JSON.stringify(favorites));case 18:setIsFavorite(false);case 19:_context2.next=24;break;case 21:_context2.prev=21;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 24:case\"end\":return _context2.stop();}},_callee2,null,[[1,21]]);}));return function handleFavoriteToggle(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"carde\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/dentist/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"dentist-image\",src:\"/img/doc.jpg\",alt:\"\"}),/*#__PURE__*/_jsx(\"h3\",{children:name}),/*#__PURE__*/_jsx(\"p\",{children:username})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFavoriteToggle,children:isFavorite?'⭐️':'☆'}),/*#__PURE__*/_jsx(Link,{to:\"/detail\",children:\"detalles\"})]})});};export default Card;","map":{"version":3,"names":["React","useEffect","useState","Link","Detail","jsx","_jsx","jsxs","_jsxs","initialState","isFavorite","Card","_ref","name","username","id","_useState","_useState2","_slicedToArray","setIsFavorite","fetchData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","existingFavs","favorites","isAlreadyFavorite","wrap","_callee$","_context","prev","next","localStorage","getItem","sent","JSON","parse","some","favorite","t0","console","log","stop","apply","arguments","handleFavoriteToggle","_ref3","_callee2","cardData","updatedFavorites","_callee2$","_context2","push","setItem","stringify","filter","className","children","to","concat","src","alt","onClick"],"sources":["D:/Documents/DARÍO DIGITAL HOUSE/6TO BIMESTRE/Luna-Dario-Ezequiel/src/Components/Card.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Detail from '../Routes/Detail';\r\n\r\n\r\nconst initialState = {\r\n  isFavorite: false,\r\n};\r\nconst Card = ({ name, username, id }) => {\r\n  const [isFavorite, setIsFavorite] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const existingFavs = await localStorage.getItem('favorites');\r\n        if (existingFavs) {\r\n          const favorites = JSON.parse(existingFavs);\r\n          const isAlreadyFavorite = favorites.some((favorite) => favorite.id === id);\r\n          setIsFavorite(isAlreadyFavorite);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  const handleFavoriteToggle = async () => {\r\n    const cardData = {\r\n      id,\r\n      name,\r\n      username,\r\n    };\r\n\r\n    try {\r\n      const existingFavs = await localStorage.getItem('favorites');\r\n      let favorites = existingFavs ? JSON.parse(existingFavs) : [];\r\n\r\n      const isAlreadyFavorite = favorites.some((favorite) => favorite.id === cardData.id);\r\n\r\n      if (!isAlreadyFavorite) {\r\n        favorites.push(cardData);\r\n        await localStorage.setItem('favorites', JSON.stringify(favorites));\r\n        setIsFavorite(true);\r\n      } else {\r\n        const updatedFavorites = favorites.filter((favorite) => favorite.id !== cardData.id);\r\n        favorites = updatedFavorites;\r\n        await localStorage.setItem('favorites', JSON.stringify(favorites));\r\n        setIsFavorite(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='carde'>   \r\n      <div className='card'>\r\n        <Link to={`/dentist/${id}`}>\r\n        <img className=\"dentist-image\" src=\"/img/doc.jpg\" alt=\"\" />\r\n          <h3>{name}</h3>\r\n          <p>{username}</p>\r\n        \r\n        </Link>\r\n        <button onClick={handleFavoriteToggle}>\r\n          {isFavorite ? '⭐️' : '☆'}\r\n        </button>\r\n        <Link to=\"/detail\">detalles</Link>\r\n        \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}